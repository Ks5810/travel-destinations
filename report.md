# Report

## Wed 6/3

- Installed Composer, Laravel
- Created local environment
- Read `Get started` section in [Laravel Documentation]

Notes:
- Entry point to Laravel: public/index.php
- index.php loads the generated autoloader definition generated by Composer
- Laravel then creates an instance of the [Service Container] as its first
  action  

Todo:
- Finish reading `Architecture Concepts` section (Focus on [Service Container])
- Read `The Basics` section

## Thu 6/4

- setup postgres database
- created todo model
- defined controllers for the apis
- setup frontend in resources/assets
- Opened an EC2 instance
- setup terminal preference on the instance

Notes:
  - Config/app.php has `providers` array (Similar to Django's setting file)
  - No event listeners, routes to the `register` method
  - Following [this blog][Laravel React]

Todo:
1. setup web server on the cloud
1. design database
    - Todo
    - TodoList
    - User 
1. implement model
1. implement frontend

## Fri 6/5
<dl>
    <dt>Travel Destination List:</dt>
    <dd>A travel destination list web application that enables each user to enter
    where they want to travel and have a google maps integration that their
    destinations are marked in the map interface. </dd>
    <ul>
    <li><dd>A destination list like a todo list</dd></li>
    <li><dd>A map that users' destinations are marked</dd></li>
    </ul>
</dl>

Completed:  
- Designed basic structure of the database
    - `Destination`
    - `User`   
- Drew UML Object Diagram
- Migrated Destination table

Todo:
- See if api route is working correctly
- Implement simple frontend to make requests

Notes:
- Implement map integration later
- [Laravel Database]
- [Laravel ORM]

## Sat 6/6
Completed:
- Read [Laravel Frontend] and tried custom webpack configuration and faild
- Decided to use mix
- Implemented form in React

Notes:
- Used Object for `Usestate` declaration AGAIN AND WAISTED AN HOUR.
- Maybe use `mix.webpackConfig()` instead of ''`mix.react()` for production setting?
- `app.blade.php` is like the template file in Django
- Backend is responding with Internal server error

Todo:
- Post `Destination` and Get `Destinations` wihtout authentication
- Start implementing User auth

## Sun 6/7
Completed:  
- Installed pgadmin3
- Created table seeder for `User` and `Destination` table
- Enabled mix source map to debug React
- Displaying seeded destination list on browser

Notes:  
- Api uri in [/routes/api.php] is prefixed with /api/
- Controllers takes a function from [/routes/api.php] and defined in files in
[/app/Http/Controllers]

Todo:
- Define functions in controllers to handle user authentication
  - Each users should only have list items that has `user_id` of the user's id. 
- Implement user auth logic on the frontend

## Mon 6/8
Completed:  
- Installed [Sanctum][Laravel Sanctum]
- Implemented frontend auth logic with redux
Notes:  
- Using [Sanctum][Laravel Sanctum]'s SPI Authentication
- Getting incorrect response from the server
Todo:
- Fix AuthController

## Tue 6/9
Completed:
- Tried [Passport][Laravel Passport] and found it's not for a SPA
- Going back to [Sanctum][Laravel Sanctum]
Notes:
- [Laravel Passport] worked for authenticating a user, couldn't figure out how
to work with authenticated routes

Todo:
- Modify routing and destination table to be unique to user
- Start reading about [Google Maps Api]
- Implement simple map using [React Google Maps]

## Wed 6/10
Completed:
- Defined routes for authentication
- Implemented basic flow and frontend for auth 
- Insert and Delete operation on destination list 
 
Notes:
- Gave up with SPA using React
- Using builtin blade templates now
- Inserting react component in the blade templates for google maps?

Todo:
- Read [Google Maps API Doc][Google Maps Api]
- Think about new columns in Destination table
- Move control flow to Controllers from Routes

## Thu 6/11
Completed:
- Loaded a react component from blade
- Read [Simple Map] section of [Google Maps Api]
- Implemented a map in view where default center coordinate is initialized by 
of coordinates of user's destinations
- Show `Makers` on the map

Notes:
- React components are triggered by ids so passing an id that corresponds to 
a react component in `resources/js/components` included from `js/app.js` will 
do it
- logout dropdown from destinations page is not responding. May be because of react

Todo:
- Create form for latitude and longitude
- Fix logout dropdown 
- Deploy to EC2
- Address completion and get coordinates from it using [Google Maps Places Library](if possible)

## Fri 6/12
Completed:  
- Form for latitude and longitude
- Deployed to EC2

Todo:  
- Fix logout dropdown
- Address completion and get coordinates from it using [Google Maps Places Library](if possible)

## Sat 6/13
Completed:  
- Fixed migration problem on `Destination` table
- Fixed logout function
- Implemented error handling for invalid coordinates
- Implemented auto address completion using [Google Maps Places Library]
- Styled Layouts

Todo:
- Enable https on Nginx
- Clean up the code 


## Sun 6/14
Completed:
- Added favicon and manifest  
- Enabled TLS with lets encrypt

Todo:
- Set up static files cashing in Nginx



[Laravel Documentation]: https://laravel.com/docs/7.x
[Service Container]: https://laravel.com/docs/7.x/container
[Laravel React]: https://blog.pusher.com/react-laravel-application/
[Laravel Database]: https://laravel.com/docs/7.x/database
[Laravel ORM]: https://laravel.com/docs/7.x/eloquent
[Laravel Frontend]: https://laravel.com/docs/7.x/blade
[Laravel Sanctum]: https://laravel.com/docs/7.x/sanctum
[Laravel Passport]: https://laravel.com/docs/7.x/passport
[Api Tutorial]: https://www.toptal.com/laravel/restful-laravel-api-tutorial
[/routes/api.php]: ./routes/api.php
[/app/Http/Controllers]: ./app/Http/Controllers
[Google Maps Api]: https://developers.google.com/maps/documentation
[React Google Maps]: https://www.npmjs.com/package/react-google-maps
[Simple Map]: https://developers.google.com/maps/documentation/javascript/examples/map-simple
[Google Maps Places Library]: https://developers.google.com/maps/documentation/javascript/places?hl=en_US